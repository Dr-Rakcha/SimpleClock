function SimpleClock(t,i){for(var s in this.settings={colorHourHand:"black",colorMinuteHand:"black",colorSecondHand:"red",colorNumber:"black",colorNumber90Deg:"red",colorDash:"black",colorText:"black",text:"Quartz",width:600,height:600},i)this.settings[s]=i[s];var e=document.getElementById(t),h=document.createElement("canvas"),n=document.createElement("canvas");if(this.ctx=n.getContext("2d"),this.ctxBg=h.getContext("2d"),!e)throw"#"+t+" not found";n.style.cssText=h.style.cssText="display: block;position: absolute;left: 0;top: 0;right: 0;bottom: 0;margin:auto",e.appendChild(h),e.appendChild(n),this.init(),this.start()}SimpleClock.prototype={init:function(){this.ctxBg.canvas.width=this.ctx.canvas.width=this.settings.width,this.ctxBg.canvas.height=this.ctx.canvas.height=this.settings.height,this.size=this.settings.height<this.settings.width?this.settings.height:this.settings.width,this.scale=this.size/600,this.ctx.translate(this.settings.width>>1,this.settings.height>>1),this.ctx.scale(this.scale,this.scale),this.ctxBg.translate(this.settings.width>>1,this.settings.height>>1),this.ctxBg.scale(this.scale,this.scale),this.ctxBg.lineCap=this.ctx.lineCap="round",this.ctxBg.textAlign="center",this.ctxBg.textBaseline="middle",this.ctx.shadowColor="black",this.ctx.shadowBlur=this.size/100,this.ctx.shadowOffsetX=2*-this.size/300,this.ctx.shadowOffsetY=2*this.size/300,this.drawBackground()},drawClock:function(){this.ctx.clearRect(-this.settings.width/this.scale>>1,-this.settings.height/this.scale>>1,this.settings.width/this.scale,this.settings.height/this.scale);var t=new Date,i=t.getHours(),s=t.getMinutes(),e=t.getSeconds(),h=30*(i+s/60),n=6*(s+e/60),c=6*(e+t.getMilliseconds()/1e3);this.drawHnad(h,0,200,24,this.settings.colorHourHand),this.drawHnad(n,0,272,12,this.settings.colorMinuteHand),this.drawSecondHand(c,-48,285,5,this.settings.colorSecondHand),requestAnimationFrame(this.drawClock.bind(this))},start:function(){requestAnimationFrame(this.drawClock.bind(this))},drawSecondHand:function(t,i,s,e,h){this.drawHnad(t,i,-100,e+2,h),this.drawHnad(t,i,s,e,h),this.ctx.fillStyle=h,this.ctx.beginPath(),this.ctx.arc(0,0,20,0,2*Math.PI),this.ctx.fill()},drawHnad:function(t,i,s,e,h){this.ctx.strokeStyle=h,this.ctx.lineWidth=e,this.ctx.rotate((t-90)*Math.PI/180),this.ctx.beginPath(),this.ctx.moveTo(i,0),this.ctx.lineTo(s,0),this.ctx.stroke(),this.ctx.rotate(-(t-90)*Math.PI/180)},drawBackground:function(){this.ctxBg.strokeStyle=this.settings.colorDash,this.ctxBg.font="45px arial";for(var t,i=0;i<360;i+=6){var s=(i-60)*Math.PI/180,e=Math.cos(s),h=Math.sin(s);i%30==0?(this.ctxBg.lineWidth=12,t={x:256*e,y:256*h},this.ctxBg.fillStyle=(i+30)%90==0?this.settings.colorNumber90Deg:this.settings.colorNumber,this.ctxBg.fillText(i/30+1,219*e,219*h)):(this.ctxBg.lineWidth=6,t={x:273*e,y:273*h}),this.ctxBg.beginPath(),this.ctxBg.moveTo(t.x,t.y),this.ctxBg.lineTo(288*e,288*h),this.ctxBg.stroke()}this.ctxBg.fillStyle=this.settings.colorText,this.ctxBg.font="20px arial",this.ctxBg.fillText(this.settings.text,0,-140)},setSize:function(t,i){this.settings.width=t,this.settings.height=i,this.init()}};